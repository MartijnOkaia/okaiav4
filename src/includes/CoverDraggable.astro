---

const { blok } = Astro.props;

---

<div class="dragContainer w-full h-[1120px] bg-black relative flex items-center justify-center overflow-hidden">

<h1 class="text-white text-h1 font-medium relative z-[2000] text-center pointer-events-none max-w-[1000px] mb-40"> {blok.Title}</h1>

<div class="dragElement aspect-square bg-pink w-[330px] rounded-lg absolute top-[55%] left-[32%] -translate-x-1/2 rotate-6 flex items-center justify-center z-20">
  <p class="absolute bottom-4 left-1/2 -translate-x-1/2 -translate-y-1/2 text-white text-h5">Verwonder</p>
  <svg width="304" height="294" viewBox="0 0 304 294" fill="none" xmlns="http://www.w3.org/2000/svg">
    <g clip-path="url(#clip0_2377_1457)">
    <path d="M220.729 0.569898L220.002 0.574604C206.276 0.729843 192.804 4.32263 180.806 11.0282C168.807 17.7337 158.66 27.3406 151.282 38.9803C143.753 27.4376 133.483 17.9633 121.399 11.4138C109.315 4.86431 95.7989 1.44614 82.072 1.46827L81.3457 1.47297C59.7204 1.81678 39.1047 10.7299 23.98 26.2748C8.85526 41.8198 0.444041 62.74 0.574731 84.4879C0.749726 111.497 12.7588 149.745 35.9035 181.131C79.9946 240.925 152.93 293.015 152.93 293.015C152.93 293.015 225.185 239.987 268.498 179.624C291.234 147.941 302.746 109.54 302.571 82.5313C302.42 60.7829 293.738 39.973 278.413 24.6253C263.087 9.27756 242.357 0.632668 220.729 0.569898Z" fill="black"/>
    </g>
    <ellipse cx="20.8792" cy="55.8486" rx="20.8792" ry="55.8486" transform="matrix(0.764922 0.644123 -0.960064 0.279782 189.335 111.596)" fill="#C8FB50"/>
    <ellipse cx="20.8792" cy="55.8486" rx="20.8792" ry="55.8486" transform="matrix(0.764922 0.644123 -0.960064 0.279782 189.142 81.7734)" fill="#C8FB50"/>
    <ellipse cx="20.8792" cy="55.8486" rx="20.8792" ry="55.8486" transform="matrix(0.764922 0.644123 -0.960064 0.279782 189.529 141.478)" fill="#C8FB50"/>
    <defs>
    <clipPath id="clip0_2377_1457">
    <rect width="302" height="292" fill="white" transform="translate(0.0402832 1.99707) rotate(-0.371219)"/>
    </clipPath>
    </defs>
    </svg>        
</div>

<div class="dragElement aspect-square bg-green w-[330px] rounded-lg absolute top-[10%] left-[50%] -translate-x-1/2 rotate-3 flex items-center justify-center">
  <div class="absolute top-1/2 left-1/2 -translate-x-1/2 -translate-y-1/2">
    <p class="text-h5">Authenthiek</p>
  </div>
  <svg width="284" height="284" viewBox="0 0 284 284" fill="none" xmlns="http://www.w3.org/2000/svg">
    <circle cx="77.6775" cy="77.6773" r="77.5664" fill="#D9D9D9"/>
    <circle cx="77.6775" cy="205.544" r="77.5664" fill="#D9D9D9"/>
    <circle cx="205.545" cy="77.6773" r="77.5664" fill="#D9D9D9"/>
    <circle cx="205.545" cy="205.544" r="77.5664" fill="#D9D9D9"/>
    </svg>        
</div>

<div class="dragElement aspect-square bg-lightGrey w-[330px] rounded-lg absolute top-[22%] -translate-x-1/2 left-[19%] rotate-[-30deg] z-20 overflow-hidden">
  <svg class="absolute z-20 top-1/2 left-1/2 -translate-x-1/2 -translate-y-1/2" width="153" height="153" viewBox="0 0 153 153" fill="none" xmlns="http://www.w3.org/2000/svg">
    <path d="M67.9353 152.543H0.196045C0.196045 68.7288 68.3829 0.542725 152.196 0.542725V68.2826C105.682 68.3347 67.9888 106.029 67.9353 152.543Z" fill="#FBFAF5"/>
  </svg>        
  <img src="/ignoreme.jpg" class="w-full h-full object-cover" alt="">
</div>

<div class="dragElement aspect-square bg-lightGrey w-[330px] rounded-lg absolute top-[25%] -translate-x-1/2 left-[75%] rotate-[43deg] z-20">
  <img src="/sticker.png" class="w-full h-full object-contain" alt="">
</div>

<div class="dragElement aspect-square bg-blue w-[330px] rounded-lg absolute top-[55%] -translate-x-1/2 left-[70%] rotate-12 z-20">
  <img src="/okaiamask.png" class="w-full h-full p-12 object-contain" alt="">
</div>

<div class="dragElement aspect-square w-[330px] rounded-full absolute top-[52%] left-[40%] rotate-12 bg-gradient-to-b from-green to-pink flex text-h5 items-center justify-center">
  <p class="relative z-20">Inclusief</p>
  <div class="absolute rounded-full bg-darkGrey w-[240px] aspect-square z-10"></div>
</div>

</div>

</div>

<script>
import { gsap } from "gsap";
import { Draggable } from "gsap/Draggable";
import { InertiaPlugin } from "gsap/InertiaPlugin";

gsap.registerPlugin(Draggable, InertiaPlugin);

function init() {

  const elements = document.querySelectorAll(".dragElement");
  const container = document.querySelector(".dragContainer");

  gsap.registerPlugin(Draggable);

  elements.forEach((element) => {
  Draggable.create(element, {
    bounds: container,
    edgeResistance: 0.5,
    type: "y,x",
    inertia: true,
    startPosition: { x: 0, y: 0 }, // Set the initial position here
    onDrag: function () {
      const rotation = (this.x / container.offsetWidth) * 180;
      gsap.to(element, {
        rotation: rotation,
        immediateRender: false,
      });
    },
  });
  });
  
}


const setup = () => {
  document.readyState === 'complete' ? init() : document.addEventListener("DOMContentLoaded", init);
  window.swup?.hooks.on('page:view', init);
}

window.swup ? setup() : document.addEventListener('swup:enable', setup);



</script>